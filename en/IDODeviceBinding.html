
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Device binding and unbinding Â· IDO smart band SDK</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="hedongyang">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="IDOErrorCode.html" />
    
    
    <link rel="prev" href="IDOBlueUpdate.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="IDOBluetooth.html">
            
                <a href="IDOBluetooth.html">
            
                    
                    Bluetooth management library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="IDOBlueUpdate.html">
            
                <a href="IDOBlueUpdate.html">
            
                    
                    Bluetooth upgrade library
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4" data-path="IDODeviceBinding.html">
            
                <a href="IDODeviceBinding.html">
            
                    
                    Device binding and unbinding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="IDOErrorCode.html">
            
                <a href="IDOErrorCode.html">
            
                    
                    Error code description
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="IDOSetUpFunction.html">
            
                <a href="IDOSetUpFunction.html">
            
                    
                    Set command function
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="set/IDOSetTimeFunction.html">
            
                <a href="set/IDOSetTimeFunction.html">
            
                    
                    Set time command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="set/IDOSetAlarmFunction.html">
            
                <a href="set/IDOSetAlarmFunction.html">
            
                    
                    Set alarm command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="set/IDOSetUserInfoFunction.html">
            
                <a href="set/IDOSetUserInfoFunction.html">
            
                    
                    Set user information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="set/IDOSetFindPhoneFunction.html">
            
                <a href="set/IDOSetFindPhoneFunction.html">
            
                    
                    Set find phone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="set/IDOSetHandUpFunction.html">
            
                <a href="set/IDOSetHandUpFunction.html">
            
                    
                    Set hand up command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="set/IDOSetLeftRightFundation.html">
            
                <a href="set/IDOSetLeftRightFundation.html">
            
                    
                    Set left and right hand wear
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="set/IDOPreventLostFunction.html">
            
                <a href="set/IDOPreventLostFunction.html">
            
                    
                    Set anti-lost command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="set/IDOSetDisplayFunction.html">
            
                <a href="set/IDOSetDisplayFunction.html">
            
                    
                    Set display mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="set/IDOSetNoticeFunction.html">
            
                <a href="set/IDOSetNoticeFunction.html">
            
                    
                    Set smart reminder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="set/IDOSetLongSitFunction.html">
            
                <a href="set/IDOSetLongSitFunction.html">
            
                    
                    Set sedentary reminder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="set/IDOSetWeatherFunction.html">
            
                <a href="set/IDOSetWeatherFunction.html">
            
                    
                    Set weather forecast
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="set/IDOSetHrModeFunction.html">
            
                <a href="set/IDOSetHrModeFunction.html">
            
                    
                    Set heart rate mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="set/IDOSetHrIntervalFunction.html">
            
                <a href="set/IDOSetHrIntervalFunction.html">
            
                    
                    Set heart rate interval
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="set/IDOSetNoDisturbFunction.html">
            
                <a href="set/IDOSetNoDisturbFunction.html">
            
                    
                    Set do not disturb mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="set/IDOSetUnitFunction.html">
            
                <a href="set/IDOSetUnitFunction.html">
            
                    
                    Set unit command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="set/IDOSetOneKeySosFunction.html">
            
                <a href="set/IDOSetOneKeySosFunction.html">
            
                    
                    Set one key to call for help
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.17" data-path="set/IDOSetShortcutFunction.html">
            
                <a href="set/IDOSetShortcutFunction.html">
            
                    
                    Set shortcut
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.18" data-path="set/IDOSetBpFunction.html">
            
                <a href="set/IDOSetBpFunction.html">
            
                    
                    Set blood pressure calibration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.19" data-path="set/IDOSetSportShortcutFunction.html">
            
                <a href="set/IDOSetSportShortcutFunction.html">
            
                    
                    Set sport shortcut
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.20" data-path="set/IDOSetSportSortFunction.html">
            
                <a href="set/IDOSetSportSortFunction.html">
            
                    
                    Set sport sorting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.21" data-path="set/IDOSetScreenBrightFunction.html">
            
                <a href="set/IDOSetScreenBrightFunction.html">
            
                    
                    Set screen brightness
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.22" data-path="set/IDOSetMusicFunction.html">
            
                <a href="set/IDOSetMusicFunction.html">
            
                    
                    Set music switch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.23" data-path="set/IDOSetGpsInfoFunction.html">
            
                <a href="set/IDOSetGpsInfoFunction.html">
            
                    
                    Set GPS information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.24" data-path="set/IDOSetWatchDiaFunction.html">
            
                <a href="set/IDOSetWatchDiaFunction.html">
            
                    
                    Set dial ID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.25" data-path="set/IDOSetWalkRemindFunction.html">
            
                <a href="set/IDOSetWalkRemindFunction.html">
            
                    
                    Set walking reminder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.26" data-path="set/IDOSetV3HrModeFunction.html">
            
                <a href="set/IDOSetV3HrModeFunction.html">
            
                    
                    Set v3 heart rate mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.27" data-path="set/IDOSetSpo2Function.html">
            
                <a href="set/IDOSetSpo2Function.html">
            
                    
                    Set blood oxygen switch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.28" data-path="set/IDOSetSleepTimeFunction.html">
            
                <a href="set/IDOSetSleepTimeFunction.html">
            
                    
                    Set sleep switch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.29" data-path="set/IDOSetPressureSwitchFunction.html">
            
                <a href="set/IDOSetPressureSwitchFunction.html">
            
                    
                    Set pressure switch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.30" data-path="set/IDOSetMenuListFunction.html">
            
                <a href="set/IDOSetMenuListFunction.html">
            
                    
                    Set menu list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.31" data-path="set/IDOSetMenstruationRemindFunction.html">
            
                <a href="set/IDOSetMenstruationRemindFunction.html">
            
                    
                    Set physiological cycle reminder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.32" data-path="set/IDOSetMenstruationFunction.html">
            
                <a href="set/IDOSetMenstruationFunction.html">
            
                    
                    Set physiological cycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.33" data-path="set/IDOSetDrinkWaterFunction.html">
            
                <a href="set/IDOSetDrinkWaterFunction.html">
            
                    
                    Set drinking water Reminder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.34" data-path="set/IDOSetBreatheFunction.html">
            
                <a href="set/IDOSetBreatheFunction.html">
            
                    
                    Set breath training
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.35" data-path="set/IDOSetActivitySwitchFunction.html">
            
                <a href="set/IDOSetActivitySwitchFunction.html">
            
                    
                    Set activity switch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="IDOGetFunction.html">
            
                <a href="IDOGetFunction.html">
            
                    
                    Get command function
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="get/IDOGetMacFunction.html">
            
                <a href="get/IDOGetMacFunction.html">
            
                    
                    Get mac address
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="get/IDOGetDeviceInfoFunction.html">
            
                <a href="get/IDOGetDeviceInfoFunction.html">
            
                    
                    Get device information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="get/IDOGetFuncListFunction.html">
            
                <a href="get/IDOGetFuncListFunction.html">
            
                    
                    Get function list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="get/IDOGetLiveDataFunction.html">
            
                <a href="get/IDOGetLiveDataFunction.html">
            
                    
                    Get real-time data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="get/IDOGetNoticeFunction.html">
            
                <a href="get/IDOGetNoticeFunction.html">
            
                    
                    Get notification status
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="get/IDOGetActivityCountFunction.html">
            
                <a href="get/IDOGetActivityCountFunction.html">
            
                    
                    Get activity number
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="get/IDOGetGpsStateFunction.html">
            
                <a href="get/IDOGetGpsStateFunction.html">
            
                    
                    Get GPS states
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="get/IDOGetVersionFunction.html">
            
                <a href="get/IDOGetVersionFunction.html">
            
                    
                    Get version information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="get/IDOGetOtaAuthFuncion.html">
            
                <a href="get/IDOGetOtaAuthFuncion.html">
            
                    
                    Get OTA authorization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="get/IDOGetDefaultSportsFunction.html">
            
                <a href="get/IDOGetDefaultSportsFunction.html">
            
                    
                    Get default sports type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="get/IDOGetLanguageFunction.html">
            
                <a href="get/IDOGetLanguageFunction.html">
            
                    
                    Get default language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="get/IDOGetErrorLogFunction.html">
            
                <a href="get/IDOGetErrorLogFunction.html">
            
                    
                    Get error log
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="get/IDOGetFlashBinFunction.html">
            
                <a href="get/IDOGetFlashBinFunction.html">
            
                    
                    Get word stock version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="get/IDOGetBatteryFunction.html">
            
                <a href="get/IDOGetBatteryFunction.html">
            
                    
                    Get battery information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="get/IDOGetMenuListFunction.html">
            
                <a href="get/IDOGetMenuListFunction.html">
            
                    
                    Get menu list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="get/IDOGetV3AlarmFunction.html">
            
                <a href="get/IDOGetV3AlarmFunction.html">
            
                    
                    Get V3 alarm clock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="get/IDOGetV3HrFunction.html">
            
                <a href="get/IDOGetV3HrFunction.html">
            
                    
                    Get V3 heart rate mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.18" data-path="get/IDOGetMtuFunction.html">
            
                <a href="get/IDOGetMtuFunction.html">
            
                    
                    Get MTU
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.19" data-path="get/IDOGetOverHeatLogFunction.html">
            
                <a href="get/IDOGetOverHeatLogFunction.html">
            
                    
                    Get overheat log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="IDOControlFunction.html">
            
                <a href="IDOControlFunction.html">
            
                    
                    Control command function
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="control/IDOCommonlyFunction.html">
            
                <a href="control/IDOCommonlyFunction.html">
            
                    
                    Common control command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="control/IDOVoiceFunction.html">
            
                <a href="control/IDOVoiceFunction.html">
            
                    
                    Voice control command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="control/IDOListenFunction.html">
            
                <a href="control/IDOListenFunction.html">
            
                    
                    Listen control command
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="IDOSyncDataFunction.html">
            
                <a href="IDOSyncDataFunction.html">
            
                    
                    Data synchronization function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="IDOExchangeFunction.html">
            
                <a href="IDOExchangeFunction.html">
            
                    
                    Data exchange function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="IDOApgsUpdateFunction.html">
            
                <a href="IDOApgsUpdateFunction.html">
            
                    
                    AGPS file update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="IDOFlashUpdateFunction.html">
            
                <a href="IDOFlashUpdateFunction.html">
            
                    
                    Word stock update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="IDOPhotoUpdateFunction.html">
            
                <a href="IDOPhotoUpdateFunction.html">
            
                    
                    Wallpaper file update
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="IDOQueryDataFunction.html">
            
                <a href="IDOQueryDataFunction.html">
            
                    
                    Data query function
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="query/IDOQuerySportFunction.html">
            
                <a href="query/IDOQuerySportFunction.html">
            
                    
                    Step data query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="query/IDOQuerySleepFunction.html">
            
                <a href="query/IDOQuerySleepFunction.html">
            
                    
                    Sleep data query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="query/IDOQueryHrFunction.html">
            
                <a href="query/IDOQueryHrFunction.html">
            
                    
                    Heart rate data query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="query/IDOQueryBpFunction.html">
            
                <a href="query/IDOQueryBpFunction.html">
            
                    
                    Blood pressure data query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="query/IDOQueryBopFunction.html">
            
                <a href="query/IDOQueryBopFunction.html">
            
                    
                    Blood oxygen data query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="query/IDOQueryPressureFunction.html">
            
                <a href="query/IDOQueryPressureFunction.html">
            
                    
                    Pressure data query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="query/IDOQueryActivityFunction.html">
            
                <a href="query/IDOQueryActivityFunction.html">
            
                    
                    Activity data query
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="query/IDOQueryGpsFunction.html">
            
                <a href="query/IDOQueryGpsFunction.html">
            
                    
                    GPS data query
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="IDOWatchDialFunction.html">
            
                <a href="IDOWatchDialFunction.html">
            
                    
                    Dial setting function
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Device binding and unbinding</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="device-binding-and-unbinding">Device binding and unbinding</h1>
<h2 id="41-function-overview">4.1 Function overview</h2>
<p>When the device is connected for the first time, the binding command needs to be executed. According to the status type returned by the binding command, authorized binding and unauthorized binding, the authorized binding needs to enter the verification code displayed on the bracelet to bind successfully, unauthorized binding It can be directly bound without confirmation. The device is unbundled with connection unbundling and disconnection unbundling. When connecting, unbundling is when the app sends an unbundling command to achieve unbundling on both sides. At the same time, all data on the bracelet is erased. When unbundling, the app unilaterally changes the binding The status is unbound, and the data on the bracelet will not be erased.</p>
<h3 id="42-binding-commands">4.2 Binding commands</h3>
<p>Objc:</p>
<pre><code class="lang-objc">IDOSetBindingInfoBluetoothModel * model = [[IDOSetBindingInfoBluetoothModel alloc]init];
    [IDOFoundationCommand bindingCommand:model callback:^(IDO_BIND_STATUS status, <span class="hljs-keyword">int</span> errorCode) {
        <span class="hljs-keyword">if</span> (errorCode == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (status == IDO_BLUETOOTH_BIND_SUCCESS) {<span class="hljs-comment">//Binding succeeded</span>
        IDOSetBindingInfoBluetoothModel * model = [IDOSetBindingInfoBluetoothModel currentModel];
        <span class="hljs-keyword">if</span> (model.authLength&gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">//The binding type is wrong, currently not supported</span>
            <span class="hljs-keyword">return</span>;
        }
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status == IDO_BLUETOOTH_BINDED) {
        <span class="hljs-comment">//Already bound</span>
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status == IDO_BLUETOOTH_BIND_FAILED) {
        <span class="hljs-comment">//Binding failed</span>
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status == IDO_BLUETOOTH_NEED_AUTH) {
        <span class="hljs-comment">//Requires authorization binding</span>
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status == IDO_BLUETOOTH_REFUSED_BINDED) {
        <span class="hljs-comment">//Refuse to bind</span>
        }
    }<span class="hljs-keyword">else</span> {
    <span class="hljs-comment">//Binding failed</span>
    }
}];

<span class="hljs-comment">//If authorization binding is required, execute the following code</span>
IDOSetBindingInfoBluetoothModel * model = [IDOSetBindingInfoBluetoothModel currentModel];
<span class="hljs-comment">//Enter the authorization code</span>
 model.authCode = authCode;
[IDOFoundationCommand setAuthCodeCommand:model callback:^(<span class="hljs-keyword">int</span> errorCode) {
    <span class="hljs-keyword">if</span> (errorCode == <span class="hljs-number">0</span>) {
      <span class="hljs-comment">//Authentication binding succeeded</span>
    }<span class="hljs-keyword">else</span> {
      <span class="hljs-comment">//Authentication failed</span>
    }
}];
</code></pre>
<p>Swift:</p>
<pre><code class="lang-swift"> <span class="hljs-keyword">let</span> model = <span class="hljs-type">IDOSetBindingInfoBluetoothModel</span>.<span class="hljs-keyword">init</span>();
<span class="hljs-type">IDOFoundationCommand</span>.bindingCommand(model, callback: {(state,errorCode) <span class="hljs-keyword">in</span>
 <span class="hljs-keyword">if</span> errorCode == <span class="hljs-number">0</span> {
    <span class="hljs-keyword">if</span> state == <span class="hljs-type">IDO_BIND_STATUS</span>.<span class="hljs-type">BLUETOOTH_BIND_SUCCESS</span> {
       <span class="hljs-comment">//The binding is successful</span>
        <span class="hljs-keyword">let</span> currentModel = <span class="hljs-type">IDOSetBindingInfoBluetoothModel</span>.current();
        <span class="hljs-keyword">if</span> currentModel?.authLength&gt; <span class="hljs-number">0</span> {
            <span class="hljs-comment">//The binding type is wrong, currently not supported</span>
            <span class="hljs-keyword">return</span>;
        }
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> state == <span class="hljs-type">IDO_BIND_STATUS</span>.<span class="hljs-type">BLUETOOTH_BINDED</span> {
       <span class="hljs-comment">// already bound</span>
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> state == <span class="hljs-type">IDO_BIND_STATUS</span>.<span class="hljs-type">BLUETOOTH_BIND_FAILED</span> {
       <span class="hljs-comment">// Binding failed</span>
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> state == <span class="hljs-type">IDO_BIND_STATUS</span>.<span class="hljs-type">BLUETOOTH_NEED_AUTH</span> {
       <span class="hljs-comment">// authorized binding</span>
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> state == <span class="hljs-type">IDO_BIND_STATUS</span>.<span class="hljs-type">BLUETOOTH_REFUSED_BINDED</span> {
       <span class="hljs-comment">// refuse to bind</span>
     }
  }<span class="hljs-keyword">else</span> {
     <span class="hljs-comment">//Binding failed</span>
  }
 });

 <span class="hljs-comment">//If authorization binding is required, execute the following code</span>
<span class="hljs-keyword">let</span> currentModel = <span class="hljs-type">IDOSetBindingInfoBluetoothModel</span>.current();
currentModel?.authCode = authCode;
<span class="hljs-type">IDOFoundationCommand</span>.setAuthCode(currentModel, callback: {(errorCode) <span class="hljs-keyword">in</span>
     <span class="hljs-keyword">if</span> errorCode == <span class="hljs-number">0</span> {
           <span class="hljs-comment">//Authentication binding succeeded</span>
     }<span class="hljs-keyword">else</span> {
          <span class="hljs-comment">//Authentication failed</span>
     }
});
</code></pre>
<h3 id="43-untie-command">4.3 Untie command</h3>
<ul>
<li>Ordinary untie command
Objc:</li>
</ul>
<pre><code class="lang-objc"><span class="hljs-comment">//This method needs to execute a successful callback when the connection is in state, belong to both parties to unbind, and delete the bracelet data</span>
[IDOFoundationCommand unbindingCommand:^(<span class="hljs-keyword">int</span> errorCode) {
    <span class="hljs-keyword">if</span> (errorCode == <span class="hljs-number">0</span>) {
       <span class="hljs-comment">//Unbind successfully</span>
    }<span class="hljs-keyword">else</span> {
       <span class="hljs-comment">//Unbind failed</span>
    }
 }];
</code></pre>
<p>Swift:</p>
<pre><code class="lang-swift"> <span class="hljs-comment">//This method needs to execute a successful callback when the connection is in state, belong to both parties to unbind, and delete the bracelet data</span>
  <span class="hljs-type">IDOFoundationCommand</span>.unbindingCommand {(errorCode) <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> errorCode == <span class="hljs-number">0</span> {
       <span class="hljs-comment">//Unbind successfully</span>
    }<span class="hljs-keyword">else</span> {
       <span class="hljs-comment">//Unbind failed</span>
    }
   };
</code></pre>
<ul>
<li>Forced untie command
Objc:</li>
</ul>
<pre><code class="lang-objc"><span class="hljs-comment">/*
This method performs a successful callback when the connection is in state, which belongs to both parties unbinding and deleting the bracelet data;
In the disconnected state, the successful callback is executed, the App is unilaterally unbound, and the bracelet data is not deleted;
*/</span>
[IDOFoundationCommand mandatoryUnbindingCommand:^(<span class="hljs-keyword">int</span> errorCode) {
    <span class="hljs-keyword">if</span> (errorCode == <span class="hljs-number">0</span>) {
       <span class="hljs-comment">//Unbind successfully</span>
    }<span class="hljs-keyword">else</span> {
       <span class="hljs-comment">//Unbind failed</span>
    }
 }];
</code></pre>
<p>Swift:</p>
<pre><code class="lang-swift"> <span class="hljs-comment">/*
This method performs a successful callback when the connection is in state, which belongs to both parties unbinding and deleting the bracelet data;
In the disconnected state, the successful callback is executed, the App is unilaterally unbound, and the bracelet data is not deleted;
*/</span>
  <span class="hljs-type">IDOFoundationCommand</span>.mandatoryUnbindingCommand {(errorCode) <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> errorCode == <span class="hljs-number">0</span> {
       <span class="hljs-comment">//Unbind successfully</span>
    }<span class="hljs-keyword">else</span> {
       <span class="hljs-comment">//Unbind failed</span>
    }
   };
</code></pre>
<h3 id="44-switching-device-implementation-method">4.4 Switching device implementation method</h3>
<p>Objc:</p>
<pre><code class="lang-objc"><span class="hljs-comment">//Get all bound devices stored locally</span>
<span class="hljs-built_in">NSArray</span> &lt;IDOGetDeviceInfoBluetoothModel *&gt;* allDevices = [IDOGetDeviceInfoBluetoothModel queryAllDeviceModels];
<span class="hljs-comment">//Select the device to be connected</span>
<span class="hljs-keyword">self</span>.needConnectDeviceMode = allDevices[index];
[IDOFoundationCommand switchDeviceCommand:^(<span class="hljs-keyword">int</span> errorCode) {
  <span class="hljs-keyword">if</span> (errorCode == <span class="hljs-number">0</span>) {
      <span class="hljs-comment">//Disconnect and start scanning</span>
      [IDOBluetoothManager startScan];
  }<span class="hljs-keyword">else</span> {
      <span class="hljs-comment">//Failed to switch</span>
  }
}];
<span class="hljs-comment">//Execute the Bluetooth proxy method</span>
-(<span class="hljs-built_in">BOOL</span>)bluetoothManager:(IDOBluetoothManager *)manager
           centerManager:(CBCentralManager *)centerManager
    didConnectPeripheral:(CBPeripheral *)peripheral
               isOatMode:(<span class="hljs-built_in">BOOL</span>)isOtaMode
{
    <span class="hljs-comment">//Initiate the binding after switching the bracelet successfully</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">YES</span>;
}

-(<span class="hljs-keyword">void</span>)bluetoothManager:(IDOBluetoothManager *)manager
              allDevices:(<span class="hljs-built_in">NSArray</span>&lt;IDOPeripheralModel *&gt; *)allDevices
              otaDevices: (<span class="hljs-built_in">NSArray</span>&lt;IDOPeripheralModel *&gt; *) otaDevices
{
    <span class="hljs-keyword">for</span> (IDOPeripheralModel * model <span class="hljs-keyword">in</span> allDevices) {
        <span class="hljs-keyword">if</span> ([model.macAddr isEqualToString:<span class="hljs-keyword">self</span>.needConnectDeviceMode.macAddr]
            ||[model.uuidStr isEqualToString:<span class="hljs-keyword">self</span>.needConnectDeviceMode.uuidStr]) {
            <span class="hljs-comment">//Start connection</span>
            [IDOBluetoothManager connectDeviceWithModel:model];
        }
    }
}
</code></pre>
<p>Swift:</p>
<pre><code class="lang-swift">    <span class="hljs-comment">//Get all bound devices stored locally</span>
    <span class="hljs-keyword">let</span> allDevies = <span class="hljs-type">IDOGetDeviceInfoBluetoothModel</span>.queryAllDeviceModels();
    <span class="hljs-comment">//Select the device to be connected</span>
    <span class="hljs-keyword">self</span>.needConnectDeviceMode = allDevies?[index];
    <span class="hljs-type">IDOFoundationCommand</span> .switchDeviceCommand {(errorCode) <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> errorCode == <span class="hljs-number">0</span> {
    <span class="hljs-comment">//Disconnect and start scanning</span>
    <span class="hljs-type">IDOBluetoothManager</span>.startScan();
    }<span class="hljs-keyword">else</span> {
    <span class="hljs-comment">//Failed to switch</span>
    }
    };
    <span class="hljs-comment">//Execute the Bluetooth proxy method</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">bluetoothManager</span><span class="hljs-params">(<span class="hljs-number">_</span> manager: IDOBluetoothManager!, allDevices: [IDOPeripheralModel]!, otaDevices: [IDOPeripheralModel]!)</span></span> {
    <span class="hljs-keyword">for</span> model <span class="hljs-keyword">in</span> allDevices {
    <span class="hljs-keyword">if</span> model.macAddr == <span class="hljs-keyword">self</span>.needConnectDeviceMode?.macAddr
    || model.uuidStr == <span class="hljs-keyword">self</span>.needConnectDeviceMode?.uuidStr{
    <span class="hljs-comment">//Start connection</span>
    <span class="hljs-type">IDOBluetoothManager</span>.connectDevice(with: model);
    }
    }
    };

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">bluetoothManager</span><span class="hljs-params">(<span class="hljs-number">_</span> manager: IDOBluetoothManager!, center centerManager: CBCentralManager!, didConnect peripheral: CBPeripheral!, isOatMode isOtaMode: Bool)</span></span> -&gt; <span class="hljs-type">Bool</span> {
    <span class="hljs-comment">//Initiate the binding after switching the bracelet successfully</span>
<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};
</code></pre>
<h3 id="45-demo-untie-function-entry">4.5 Demo untie function entry</h3>
<p><img src="images/unbind.png" width="40%" height="50%" style="margin-right: 10px">
<img src="images/unbind_02.png" width="40%" height="50%" style="margin-left: 10px"></p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; 2015-2020 IDO. All rights reserved. all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">Revision of time:
2020-06-10 10:10:03
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="IDOBlueUpdate.html" class="navigation navigation-prev " aria-label="Previous page: Bluetooth upgrade library">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="IDOErrorCode.html" class="navigation navigation-next " aria-label="Next page: Error code description">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Device binding and unbinding","level":"1.4","depth":1,"next":{"title":"Error code description","level":"1.5","depth":1,"path":"IDOErrorCode.md","ref":"IDOErrorCode.md","articles":[]},"previous":{"title":"Bluetooth upgrade library","level":"1.3","depth":1,"path":"IDOBlueUpdate.md","ref":"IDOBlueUpdate.md","articles":[]},"dir":"ltr"},"config":{"plugins":["chapter-fold","back-to-top-button","code","github","tbfed-pagefooter","copy-code-button","pageview-count","-lunr","-search","search-pro","language-picker","popup"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright Â© 2015-2020 IDO. All rights reserved.","modify_label":"Revision of time:","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/idoosmart/"},"search-pro":{},"popup":{},"code":{"copyButtons":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"pageview-count":{},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"hedongyang","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"IDO smart band SDK","language":"en","gitbook":"*","description":"IDO smart band SDK"},"file":{"path":"IDODeviceBinding.md","mtime":"2020-06-10T02:10:03.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-06-12T01:31:28.363Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

